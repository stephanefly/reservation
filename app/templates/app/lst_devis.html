{% extends 'app/index.html' %}
{% load static %}
{% block content %}

<h3>Liste des devis</h3>
<br>
<table id="table" class="table table-bordered table-striped" style="background-color:white">
    <thead>
        <th>ID</th>
        <th>Nom</th>
        <th>date_evenement</th>
        <th>prix</th>
        <th>Status</th>
    </thead>
    <tbody>
    {% for event in all_event %}
        <tr>
            <td >{{event.id}}</td>
            <td>{{event.client.prenom}} {{event.client.nom}}</td>
            <td>{{event.event_details.date_evenement}}</td>
            <td>{{event.prix_proposed}}</td>
            <td>{{event.status}}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<script type="text/javascript">
$(document).ready(function () {
    $('#table').DataTable({
        order: [[0, 'desc']],
        columns: [
            {
                data: 'id',
            },
            {
                data: 'nom',
            },
            {
                data: 'date',
            },
            {
                data: 'prix',
            },
            {
                data: 'status',
            },
        ]
    });
});
</script>

{% endblock %}